<!doctype html>
<html>
<head>
  <meta charset="utf8">
  <title>Chat ƒêApp</title>
  <link rel="stylesheet" type="text/css" href="styles/app.css">
  <!--<link rel="stylesheet" ype="text/css" href="styles/fontawesome5.css">-->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.0/css/all.css">
</head>
<body>

  <div id="body">
    <div class="error row-container" style="display: none" data-bind="text: error, visible: error"></div>
    <div class="row-container">
      <div class="row spaced" id="header">
        
        <div class="name"> <div class="caption">name:</div><input id="name" type="text" data-bind="value: name"
               placeholder="pick a name (or remain anonymous)"/></div>
        <div class="loading" data-bind="visible: !subscribed">subscribe to room...</div>
        <div class="room push"><div class="caption">room:</div><a class="no-link" id="room" data-bind="text: roomID, attr: { href: 'index.html?room=' + roomID() }"></a></div>  
      </div>
    </div>
    <div id="messages"
         data-bind="foreach: { data: messages, as: 'msg' }">
      <div class="message" data-bind="css: { 'msg-local': msg.from === $root.id(), 
                                             'msg-external': msg.from !== $root.id() }">
        <a class="msg-name no-link" target="_blank" 
           data-bind="text: msg.name,
                      attr: { href: `https://ipfs.io/ipns/${msg.from}` }">
        </a>
        <a class="msg-time" data-bind="text: msg.time"></a>
        <div class="msg-content" data-bind="html: msg.html"></div>
      </div>
    </div>
    <div class="row-container">
      <div class="row not-spaced">	
      	<div class="msg-input"><input id="text" type="text" placeholder="type a message (markdown allowed)"
               data-bind="value: message, enable: subscribed" /></div>
  		  <div><button id="send" lass="msg_send_btn" type="button"><i class="fas fa-paper-plane" aria-hidden="true"></i></button></div>
        <div>
          	<input type="file" id="file" style="display:none;">
          	<button id="upload" type="button" onclick="document.getElementById('file').click();"><i class="fas fa-file-upload" aria-hidden="true"></i></button>
        </div>
      </div>
    </div>
  </div>

<script src="bundle.js"></script>
</body>
</html>
